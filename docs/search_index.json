[["index.html", "GIS Tools for Qualitative Social Scientists 1 Introduction", " GIS Tools for Qualitative Social Scientists Aditya Ranganath 2022-01-31 1 Introduction "],["building-static-maps-in-r-studio.html", "2 Building Static Maps in R Studio 2.1 Load your libraries and set your working directory 2.2 Read in a spatial dataset 2.3 View the spatial dataset’s attribute table 2.4 Map the spatial dataset 2.5 Read in a tabular dataset with the information to map 2.6 Load Tabular data 2.7 Merge data 2.8 Map the trifecta data", " 2 Building Static Maps in R Studio 2.1 Load your libraries and set your working directory # Load libraries library(tmap) library(sf) library(tidyverse) If you don’t already have the packages installed, you must install them before loading the libraries; you can install the libraries with the following: install.packages(c(&quot;tmap&quot;, &quot;sf&quot;, &quot;tidyverse&quot;)) After your libraries are successfully installed and loaded, set your working directory by passing the file path of the directory that contains your data to the setwd function, as in the example below (but note your file path will look different). # Set your working directory to the directory containing your data setwd(&quot;/Users/adra7980/Documents/git_repositories/gistools_qda/data&quot;) If you don’t know the relevant file path, you can set your working directory manually by opening the Session menu, scrolling down to 2.2 Read in a spatial dataset # Read in the shapefile named &quot;usa_shapefile.shp&quot; usa_shapefile&lt;-st_read(&quot;usa_shapefile.shp&quot;) ## Reading layer `usa_shapefile&#39; from data source `/Users/adra7980/Documents/git_repositories/gistools_qda/data/usa_shapefile.shp&#39; using driver `ESRI Shapefile&#39; ## Simple feature collection with 52 features and 3 fields ## geometry type: MULTIPOLYGON ## dimension: XY ## bbox: xmin: -4088650 ymin: -1696697 xmax: 2258200 ymax: 1565782 ## projected CRS: USA_Contiguous_Albers_Equal_Area_Conic 2.3 View the spatial dataset’s attribute table usa_shapefile ## Simple feature collection with 52 features and 3 fields ## geometry type: MULTIPOLYGON ## dimension: XY ## bbox: xmin: -4088650 ymin: -1696697 xmax: 2258200 ymax: 1565782 ## projected CRS: USA_Contiguous_Albers_Equal_Area_Conic ## First 10 features: ## GEOID name abbrev geometry ## 1 23 Maine ME MULTIPOLYGON (((2217413 111... ## 2 25 Massachusetts MA MULTIPOLYGON (((2057879 734... ## 3 26 Michigan MI MULTIPOLYGON (((548934.7 12... ## 4 30 Montana MT MULTIPOLYGON (((-633753 865... ## 5 32 Nevada NV MULTIPOLYGON (((-1581791 94... ## 6 34 New Jersey NJ MULTIPOLYGON (((1727369 428... ## 7 36 New York NY MULTIPOLYGON (((1977956 675... ## 8 37 North Carolina NC MULTIPOLYGON (((1192302 -79... ## 9 39 Ohio OH MULTIPOLYGON (((1085606 548... ## 10 42 Pennsylvania PA MULTIPOLYGON (((1733137 446... 2.4 Map the spatial dataset ## tmap mode set to plotting tm_shape(usa_shapefile)+ tm_polygons() ## tmap mode set to plotting usa_map&lt;-tm_shape(usa_shapefile)+ tm_polygons() ## tmap mode set to plotting usa_map 2.5 Read in a tabular dataset with the information to map usa_trifecta_data&lt;-read_csv(&quot;usa_trifecta.csv&quot;) ## ## ── Column specification ───────────────────────────────────────────────────────────────────────────────────────── ## cols( ## GEOID = col_double(), ## NAME = col_character(), ## abbrev = col_character(), ## Composition = col_character() ## ) usa_trifecta_data ## # A tibble: 50 x 4 ## GEOID NAME abbrev Composition ## &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; ## 1 1 Alabama AL Republican Trifecta ## 2 2 Alaska AK Divided Government ## 3 4 Arizona AZ Republican Trifecta ## 4 5 Arkansas AR Republican Trifecta ## 5 6 California CA Democratic Trifecta ## 6 8 Colorado CO Democratic Trifecta ## 7 9 Connecticut CT Democratic Trifecta ## 8 10 Delaware DE Democratic Trifecta ## 9 12 Florida FL Republican Trifecta ## 10 13 Georgia GA Republican Trifecta ## # … with 40 more rows 2.6 Load Tabular data usa_trifecta&lt;-read_csv(&quot;usa_trifecta.csv&quot;) ## ## ── Column specification ───────────────────────────────────────────────────────────────────────────────────────── ## cols( ## GEOID = col_double(), ## NAME = col_character(), ## abbrev = col_character(), ## Composition = col_character() ## ) usa_trifecta ## # A tibble: 50 x 4 ## GEOID NAME abbrev Composition ## &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; ## 1 1 Alabama AL Republican Trifecta ## 2 2 Alaska AK Divided Government ## 3 4 Arizona AZ Republican Trifecta ## 4 5 Arkansas AR Republican Trifecta ## 5 6 California CA Democratic Trifecta ## 6 8 Colorado CO Democratic Trifecta ## 7 9 Connecticut CT Democratic Trifecta ## 8 10 Delaware DE Democratic Trifecta ## 9 12 Florida FL Republican Trifecta ## 10 13 Georgia GA Republican Trifecta ## # … with 40 more rows 2.7 Merge data usa_shapefile_trifecta&lt;-right_join(usa_shapefile, usa_trifecta, by=&quot;abbrev&quot; ) usa_shapefile_trifecta ## Simple feature collection with 50 features and 6 fields ## geometry type: MULTIPOLYGON ## dimension: XY ## bbox: xmin: -4088650 ymin: -1696697 xmax: 2258200 ymax: 1565782 ## projected CRS: USA_Contiguous_Albers_Equal_Area_Conic ## First 10 features: ## GEOID.x name abbrev GEOID.y NAME Composition geometry ## 1 23 Maine ME 23 Maine Democratic Trifecta MULTIPOLYGON (((2217413 111... ## 2 25 Massachusetts MA 25 Massachusetts Divided Government MULTIPOLYGON (((2057879 734... ## 3 26 Michigan MI 26 Michigan Divided Government MULTIPOLYGON (((548934.7 12... ## 4 30 Montana MT 30 Montana Republican Trifecta MULTIPOLYGON (((-633753 865... ## 5 32 Nevada NV 32 Nevada Democratic Trifecta MULTIPOLYGON (((-1581791 94... ## 6 34 New Jersey NJ 34 New Jersey Democratic Trifecta MULTIPOLYGON (((1727369 428... ## 7 36 New York NY 36 New York Democratic Trifecta MULTIPOLYGON (((1977956 675... ## 8 37 North Carolina NC 37 North Carolina Divided Government MULTIPOLYGON (((1192302 -79... ## 9 39 Ohio OH 39 Ohio Republican Trifecta MULTIPOLYGON (((1085606 548... ## 10 42 Pennsylvania PA 42 Pennsylvania Divided Government MULTIPOLYGON (((1733137 446... 2.8 Map the trifecta data Start with a rough map: ## tmap mode set to plotting usa_trifecta_map&lt;-tm_shape(usa_shapefile_trifecta)+ tm_polygons(col=&quot;Composition&quot;) usa_trifecta_map Adjust the color scheme, such that it is red for a Republican trifecta, dark blue for a democratic trifecta, and ## tmap mode set to plotting # Sets composition variable as factor usa_shapefile_trifecta&lt;-usa_shapefile_trifecta %&gt;% mutate(Composition=factor(Composition, levels=c(&quot;Democratic Trifecta&quot;, &quot;Republican Trifecta&quot;, &quot;Divided Government&quot;))) ## tmap mode set to plotting # Maps data with custom colors; note the changed order in the legend colors&lt;-c(&quot;navy&quot;, &quot;red3&quot;, &quot;seashell&quot;) usa_trifecta_map&lt;-tm_shape(usa_shapefile_trifecta)+ tm_polygons(col=&quot;Composition&quot;, palette=colors) usa_trifecta_map Now, let’s shift the legend, remove the legend title, and add a title for the map: ## tmap mode set to plotting usa_trifecta_map&lt;-usa_trifecta_map&lt;-tm_shape(usa_shapefile_trifecta)+ tm_polygons(col=&quot;Composition&quot;, palette=colors, title=&quot;&quot;)+ tm_layout(legend.position = c(&quot;left&quot;, &quot;center&quot;), frame=FALSE, main.title=&quot;Partisan Composition of State Governments, 2022&quot;, main.title.size=1, main.title.position=&quot;center&quot;) usa_trifecta_map "],["building-web-maps-in-r-studio.html", "3 Building Web Maps in R Studio", " 3 Building Web Maps in R Studio tmap_mode(&quot;view&quot;) ## tmap mode set to interactive viewing usa_trifecta_map ## legend.postion is used for plot mode. Use view.legend.position in tm_view to set the legend position in view mode. tmap_mode(&quot;plot&quot;) ## tmap mode set to plotting usa_trifecta_map Make a webmap that shifts Alaska and Hawaii back to their actual locations: usa_unshifted&lt;-st_read(&quot;usa_unshifted.shp&quot;) ## Reading layer `usa_unshifted&#39; from data source `/Users/adra7980/Documents/git_repositories/gistools_qda/data/usa_unshifted.shp&#39; using driver `ESRI Shapefile&#39; ## Simple feature collection with 52 features and 3 fields ## geometry type: MULTIPOLYGON ## dimension: XY ## bbox: xmin: -179.1473 ymin: 17.88481 xmax: 179.7785 ymax: 71.35256 ## geographic CRS: NAD83 usa_unshifted ## Simple feature collection with 52 features and 3 fields ## geometry type: MULTIPOLYGON ## dimension: XY ## bbox: xmin: -179.1473 ymin: 17.88481 xmax: 179.7785 ymax: 71.35256 ## geographic CRS: NAD83 ## First 10 features: ## GEOID NAME abbrev geometry ## 1 23 Maine ME MULTIPOLYGON (((-67.61976 4... ## 2 25 Massachusetts MA MULTIPOLYGON (((-70.83204 4... ## 3 26 Michigan MI MULTIPOLYGON (((-88.68443 4... ## 4 30 Montana MT MULTIPOLYGON (((-104.0577 4... ## 5 32 Nevada NV MULTIPOLYGON (((-114.0506 3... ## 6 34 New Jersey NJ MULTIPOLYGON (((-75.52684 3... ## 7 36 New York NY MULTIPOLYGON (((-71.94356 4... ## 8 37 North Carolina NC MULTIPOLYGON (((-82.60288 3... ## 9 39 Ohio OH MULTIPOLYGON (((-82.81349 4... ## 10 42 Pennsylvania PA MULTIPOLYGON (((-75.41504 3... # join tabular data to &quot;usa_unshifted&quot; usa_unshifted_trifecta&lt;-inner_join(usa_unshifted, usa_trifecta_data, by=&quot;abbrev&quot;) # sets factor usa_unshifted_trifecta&lt;-usa_unshifted_trifecta %&gt;% mutate(Composition=factor(Composition, levels=c(&quot;Democratic Trifecta&quot;, &quot;Republican Trifecta&quot;, &quot;Divided Government&quot;))) %&gt;% rename(State=NAME.x) %&gt;% relocate(State, Composition) # recreate map usa_trifecta_map_unshifed&lt;-tm_shape(usa_unshifted_trifecta)+ tm_polygons(col=&quot;Composition&quot;, palette=colors, title=&quot;&quot;)+ tm_layout(frame=FALSE, main.title=&quot;Partisan Composition of State Governments, 2022&quot;, main.title.size=1, main.title.position=&quot;center&quot;) # change to view mode tmap_mode(&quot;view&quot;) ## tmap mode set to interactive viewing usa_trifecta_map_unshifed ## tmap mode set to plotting "],["exporting-maps-from-r-studio.html", "4 Exporting Maps from R Studio", " 4 Exporting Maps from R Studio on factors: https://r4ds.had.co.nz/factors.html. "],["building-maps-in-quantum-geographic-information-systems-qgis.html", "5 Building Maps in Quantum Geographic Information Systems (QGIS)", " 5 Building Maps in Quantum Geographic Information Systems (QGIS) Figure 5.1: The main QGIS window Figure 5.2: Navigating to the ‘Add Vector Layer’ Menu Figure 5.3: Click the ‘Browse’ button to navigate to your shapefile "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
